<!DOCTYPE html>
<ui:composition
	  xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      template="/templates/gestion_grupos.xhtml"> 

<ui:param name="tituloPagina" value="Consulta Grupos" />	
<ui:param name="nombrePagina" value="Gestión de Grupos - Consulta" />	

<ui:define name="tabGrupos">

		<div class="row">
			<div class="col s12 m12 teal lighten-2">
          		<div class="tarjetas-text">Consulta de Grupos</div>
          	</div>
        </div>
          <h6>#{grupoBean.mensajeConfirmacion}</h6>  
            <div class="card-panel">

            <form jsf:id="formulario">
            
            	<div class="row">
            	<div class="input-field col s4"> 
              	<h:inputText type="text" class="validate" value="#{grupoBean.nombreGrupo}" rendered="#{loginBean.ver}"/>
               </div>
               <div class="input-field col s4">
               
               <h:commandButton action="#{grupoBean.consultarGrupoNombre()}" value="search" rendered="#{loginBean.ver}" class="material-icons no-btn"/>
               </div>
                    
               </div>
            	<h:dataTable value="#{grupoBean.listaGrupos}" var="datos" class="striped  ">
            		<h:column>
						<f:facet name="header">Codigo</f:facet>
						<h:inputText value="#{datos.codigo}" rendered="#{datos.editar}" disabled="true"/>
						<h:outputLabel value="#{datos.codigo}" rendered="#{not datos.editar}" />
            		</h:column>
            		<h:column>
						<f:facet name="header">Nombre</f:facet>
						<h:inputText value="#{datos.nombre}" rendered="#{datos.editar}" />
						<h:outputLabel value="#{datos.nombre}" rendered="#{not datos.editar}" />            		
            		</h:column>
            		<h:column>
						<f:facet name="header">Director</f:facet>
						<h:selectOneMenu value="#{datos.directorGrupo}" rendered="#{datos.editar}">
							<f:selectItems value="#{grupoBean.itemProfesores}" />
		                </h:selectOneMenu>
						<h:outputLabel value="#{grupoBean.obtenerNombreProfesor(datos.directorGrupo)}" rendered="#{not datos.editar}" />
            		</h:column>
            		<h:column>
						<f:facet name="header">Inicio</f:facet>
						<input  id="fecha" type = "date" class = "datepicker" jsf:value="#{datos.fechaIni}" jsf:rendered="#{datos.editar}" />
						<h:outputLabel value="#{datos.fechaIni}" rendered="#{not datos.editar}" />
            		</h:column>
            		<h:column>
						<f:facet name="header">Fin</f:facet>
						<input  id="fecha" type = "date" class = "datepicker" jsf:value="#{datos.fechaFin}" jsf:rendered="#{datos.editar}" />
						<h:outputLabel value="#{datos.fechaFin}" rendered="#{not datos.editar}" />
            		</h:column>
            		<h:column>
						<f:facet name="header">Observación</f:facet>
						<h:inputText value="#{datos.observacion}" rendered="#{datos.editar}" />
						<h:outputLabel value="#{datos.observacion}" rendered="#{not datos.editar}" />
            		</h:column>
            		<h:column>
						<f:facet name="header">Estado</f:facet>
						<h:selectOneMenu value="#{datos.estado}" rendered="#{datos.editar}">
		                   	<f:selectItem itemValue="activo" itemLabel="Activo"/>
		                <f:selectItem itemValue="inactivo" itemLabel="Inactivo"/>
	                   </h:selectOneMenu>
						<h:outputLabel value="#{datos.estado}" rendered="#{not datos.editar}" />
            		</h:column>
            		<h:column>
						<f:facet name="header">Acciones</f:facet>
						<h:commandLink action="#{grupoBean.editarGrupo(datos)}" rendered="#{not datos.editar}" ><i class="material-icons s12" jsf:rendered="#{loginBean.ver}">create</i></h:commandLink>
						<h:commandLink action="#{grupoBean.guardarGrupo(datos)}" rendered="#{datos.editar}" ><i class="material-icons s12">save</i></h:commandLink> 
						<h:commandLink action="#{grupoBean.eliminarGrupo(datos)}" ><i class="material-icons s12" jsf:rendered="#{loginBean.ver}" onclick="return confirm('¿Estas seguro que deseas eliminar el grupo?');">delete</i></h:commandLink>
						<h:commandLink action="#{grupoBean.perfilGrupo(datos.codigo)}" ><i class="material-icons s12">account_circle</i></h:commandLink>
					<!--  	<a class="waves-effect waves-light modal-trigger" href="#modal2"  ><i class="material-icons left">help_outline</i></a>-->
					</h:column>
            	
            	</h:dataTable>
             </form> 
            </div>                 

          

	</ui:define>


</ui:composition>