<!DOCTYPE html>
<ui:composition
	  xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      template="/templates/gestion_estudiante.xhtml"> 

<ui:param name="tituloPagina" value="Consulta de Estudiantes" />	
<ui:param name="nombrePagina" value="Gestión de Estudiantes - Consulta" />	

<ui:define name="tabEstudiante">
        
	
		<div class="row">
			<div class="col s12 m12 green">
          		<div class="tarjetas-text">Consulta de Estudiantes</div>
          	</div>
        </div>
        <!--<h6>#{estudianteBean.mensajeConfirmacion}</h6> -->  
            <div class="card-panel">

            <form jsf:id="formulario">
            	<div class="row">
            		<div class="input-field col s4">
            			<h:outputLabel value="Nombre Estudiante"  rendered="#{loginBean.ver}"/>
            			<h:inputText value="#{estudianteBean.nombreEstu}" rendered="#{loginBean.ver}"/>
            		</div>
            		<div class="input-field col s4" >
            			<h:commandButton action="#{estudianteBean.consultarEstudiante()}" value="search" class="material-icons no-btn"  rendered="#{loginBean.ver}"/>
            		</div>
            	</div>
            	<div class="row">
            		<div class="input-field col s4" >
            			<h:selectOneMenu value="#{estudianteBean.grupo}" rendered="#{loginBean.ver}">
            				<f:selectItems value="#{estudianteBean.grupos}"/>
            			</h:selectOneMenu>
            		</div>
            		<div class="input-field col s4" >
            		  	<h:commandButton value="search" action="#{estudianteBean.consultarEstudiantesGrupos()}" class="material-icons no-btn" rendered="#{loginBean.ver}"/>
            		</div>
            	</div> 
            			
		       	
            	<h:dataTable value="#{estudianteBean.listaEstudiantes}" var="datos" class="striped  " rendered="#{loginBean.ver}">
            		<h:column>
						<f:facet name="header">Documento</f:facet>
						<h:inputText value="#{datos.documento}" rendered="#{datos.editar}" disabled="true"/>
						<h:outputLabel value="#{datos.documento}" rendered="#{not datos.editar}" />
            		</h:column>
            		<h:column>
						<f:facet name="header">Nombre</f:facet>
						<h:inputText value="#{datos.nombre}" rendered="#{datos.editar}" />
						<h:outputLabel value="#{datos.nombre}" rendered="#{not datos.editar}"/>            		
            		</h:column>
            		<h:column>
						<f:facet name="header">Email</f:facet>
						<h:inputText value="#{datos.email}" rendered="#{datos.editar}" />
						<h:outputLabel value="#{datos.email}" rendered="#{not datos.editar}"/>
            		</h:column>
            		<h:column>
						<f:facet name="header">Dirección</f:facet>
						<h:inputText value="#{datos.direccion}" rendered="#{datos.editar}" />
						<h:outputLabel value="#{datos.direccion}" rendered="#{not datos.editar}"/>
            		</h:column>
            		<h:column>
						<f:facet name="header">Telefono</f:facet>
						<h:inputText value="#{datos.telefono}" rendered="#{datos.editar}" />
						<h:outputLabel value="#{datos.telefono}" rendered="#{not datos.editar}"/>
            		</h:column>
            		<h:column>
						<f:facet name="header">Fecha Nacimiento</f:facet>
						<input  id="fecha" type = "date" class = "datepicker" jsf:value="#{datos.fecha}" jsf:rendered="#{datos.editar}" />
						<h:outputLabel value="#{datos.fecha}" rendered="#{not datos.editar}"/>
            		</h:column>
            		<h:column>
						<f:facet name="header">Sexo</f:facet>
						<h:selectOneMenu value="#{datos.sexo}" rendered="#{datos.editar}">
		                   	<f:selectItem itemValue="M" itemLabel="Masculino"/>
		                <f:selectItem itemValue="F" itemLabel="Femenino"/>
	                   </h:selectOneMenu>
						<h:outputLabel value="#{datos.sexo}" rendered="#{not datos.editar}"/>
            		</h:column>
            		<h:column>
						<f:facet name="header">Estado</f:facet>
						<h:selectOneMenu value="#{datos.estado}" rendered="#{datos.editar}">
		                   	<f:selectItem itemValue="activo" itemLabel="Activo"/>
		                <f:selectItem itemValue="inactivo" itemLabel="Inactivo"/>
	                   </h:selectOneMenu>
						<h:outputLabel value="#{datos.estado}" rendered="#{not datos.editar}"/>
            		</h:column>
            		<h:column>
						<f:facet name="header">Acciones</f:facet>
						<h:commandLink action="#{estudianteBean.editarEstudiante(datos)}" rendered="#{not datos.editar}"><i class="material-icons s12"  jsf:rendered="#{loginBean.ver}">create</i></h:commandLink>
					<h:commandLink action="#{estudianteBean.guardarEstudiante(datos)}" rendered="#{datos.editar}" ><i class="material-icons s12">save</i></h:commandLink>
						<h:commandLink action="#{estudianteBean.eliminarEstudiante(datos)}" ><i class="material-icons s12" jsf:rendered="#{loginBean.ver}">delete</i></h:commandLink>
					<h:commandLink action="#{estudianteBean.perfilEstudiante(datos.documento)}" ><i class="material-icons s12">visibility</i></h:commandLink>
					
					
					</h:column>
            	
            	</h:dataTable>
             </form> 
            </div>                 


	</ui:define>


</ui:composition>