<!DOCTYPE html>
<ui:composition
	  xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      template="/templates/gestion_proyectos.xhtml"> 

<ui:param name="tituloPagina" value="Asociacion Proyectos" />	
<ui:param name="nombrePagina" value="Gestión de Proyectos - Asociación Proyecto Estudiantes" />	

<ui:define name="tabProyectos">
        
	<h:form>
		<div class="row">
			<div class="col s12 m12 deep-orange accent-3">
          		<div class="tarjetas-text">Asociación Proyecto - Estudiantes</div>
          	</div>
        </div>   
        		<h:outputLabel value="#{proyectoBean.mensaje}" />
        
        <div class="row">
        	<div class="input-field col s6">
        		<h:selectOneMenu value="#{proyectoBean.nombreProyecto}">
	        		<f:selectItems value="#{proyectoBean.proyectos}"/>
	        	</h:selectOneMenu>
	        	<label>Proyectos</label>
        	</div>
        	<div class="input-field col s6">
        		<h:selectManyListbox value="#{proyectoBean.nombresEstudiantes}">
        			<f:selectItems value="#{proyectoBean.estudiantes}"/>
        		</h:selectManyListbox>
        		<label>Estudiantes</label>
        	</div>
        	<div class="input-field col s6">
        		<h:commandButton value="Asociar" class="btn" action="#{proyectoBean.asociarEstudiantes()}"/>
        	</div>
        </div>
     </h:form> 
            <h:form>  
            	<div class="row">
            		<div class="card-panel">
            			<h:dataTable value="#{estudianteBean.listaEstudiantesAsociados}" var="asociado" class="striped">
            				<h:column>
            					<f:facet name="header">Proyecto</f:facet>
            					<h:outputLabel value="#{asociado.cod_proyecto}" />
            				</h:column>
            				<h:column>
            					<f:facet name="header">Estudiantes</f:facet>
            					<h:outputLabel value="#{asociado.docEstudiante}" />
            				</h:column>
            				<h:column>
            					<f:facet name="header">Desasociar</f:facet>
            					<h:commandButton value="clear" action="#{proyectoBean.desasociarEstudiantes(asociado.docEstudiante)}" class="material-icons no-btn red-text"/>
            				</h:column>
            			</h:dataTable>
            		</div>
            	</div>
            </h:form>

	</ui:define>


</ui:composition>