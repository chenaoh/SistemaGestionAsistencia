<!DOCTYPE html>
<ui:composition
	  xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      template="/templates/gestion_grupos.xhtml"> 

<ui:param name="tituloPagina" value="Asociacion Grupos" />	
<ui:param name="nombrePagina" value="Gestión de Grupos - Asociación Estudiantes Grupo" />	


<ui:define name="tabGrupos">
        
	<h:form>
		<div class="row">
			<div class="col s12 m12 deep-orange accent-3">
          		<div class="tarjetas-text">Asociación Estudiantes Grupo</div>
          	</div>
        </div>   
        		<h:outputLabel value="#{proyectoBean.mensaje}" />
        
        <div class="row">
        	<div class="input-field col s6">
        		<h:selectOneMenu value="#{grupoBean.nombreGrupoA}">
	        		<f:selectItems value="#{grupoBean.grupos}"/>
	        	</h:selectOneMenu>
	        	<label>Grupos</label>
        	</div>
        	<div class="input-field col s6">
        		<h:selectManyListbox value="#{grupoBean.nombresEstudiantes}">
        			<f:selectItems value="#{grupoBean.itemEstudiantesDisponibles}"/>
        		</h:selectManyListbox>
        		<label>Estudiantes</label>
        	</div>
        	<div class="input-field col s6">
        		<h:commandButton value="Asociar" class="btn" action="#{grupoBean.asociarEstudiantes()}"/>
        	</div>
        </div>
     </h:form> 
            <h:form>  
            	<div class="row">
            		<div class="card-panel">
            			<h:dataTable value="#{estudianteBean.listasAsociadosGrupos}" var="asociado" class="striped">
            				<h:column>
            					<f:facet name="header">Grupos</f:facet>
            					<h:outputLabel value="#{asociado.cod_grupo}" />
            				</h:column>
            				<h:column>
            					<f:facet name="header">Estudiantes</f:facet>
            					<h:outputLabel value="#{asociado.docEstudiante}" />
            				</h:column>
            				<h:column>
            					<f:facet name="header">Desasociar</f:facet>
            					<h:commandButton value="clear" action="#{grupoBean.desasociarEstudiantes(asociado.docEstudiante)}" class="material-icons no-btn red-text"/>
            				</h:column>
            			</h:dataTable>
            		</div>
            	</div>
            </h:form>

	</ui:define>


</ui:composition>